function addAntiForgeryToken(data){data||(data={});var tokenInput=document.querySelector("input[name=__RequestVerificationToken]");return tokenInput&&(data.__RequestVerificationToken=tokenInput.value),data}function seq(arr,callback,index){typeof index=="undefined"&&(index=0);arr.length>0&&arr[index](function(){index++;index===arr.length?callback():seq(arr,callback,index)})}function scriptsDone(){var DOMContentLoadedEvent=document.createEvent("Event");DOMContentLoadedEvent.initEvent("DOMContentLoaded",!0,!0);document.dispatchEvent(DOMContentLoadedEvent)}function insertScript($script,callback){var s=document.createElement("script");s.type="text/javascript";$script.src?(s.onload=callback,s.onerror=callback,s.src=$script.src):s.textContent=$script.innerText;document.body.appendChild(s);$script.parentNode.removeChild($script);$script.src||callback()}function runScripts($container){var $scripts=$container.querySelectorAll("script"),runList=[],typeAttr;[].forEach.call($scripts,function($script){typeAttr=$script.getAttribute("type");typeAttr&&runScriptTypes.indexOf(typeAttr)===-1||runList.push(function(callback){insertScript($script,callback)})});seq(runList,scriptsDone)}function SaveCurrentPossition(href,latitude,longitude){var bodyData=new FormData;bodyData.append("latitude",latitude);bodyData.append("longitude",longitude);axios({url:href,method:"post",data:bodyData}).then(function(){}).catch(function(error){alert(error)})}function StopPropagation(event){event.stopPropagation()}var runScriptTypes=["application/javascript","application/ecmascript","application/x-ecmascript","application/x-javascript","text/ecmascript","text/javascript","text/javascript1.0","text/javascript1.1","text/javascript1.2","text/javascript1.3","text/javascript1.4","text/javascript1.5","text/jscript","text/livescript","text/x-ecmascript","text/x-javascript"],Reservation;(function(){function $(selector,context){return context=context||document,context.querySelectorAll(selector)}function forEach(collection,iterator){for(var key in Object.keys(collection))iterator(collection[key])}function showMenu(menu){var menu=this,ul=$("ul",menu)[0];ul&&!ul.classList.contains("-visible")&&ul.classList.add("-visible")}function hideMenu(menu){var menu=this,ul=menu.parentElement;ul&&ul.classList.contains("-visible")&&setTimeout(function(){ul.classList.remove("-visible")},300)}window.addEventListener("load",function(){forEach($(".Menu li.-hasSubmenu"),function(e){e.showMenu=showMenu;e.hideMenu=hideMenu});forEach($(".Menu > li.-hasSubmenu"),function(e){e.addEventListener("click",showMenu)});forEach($(".Menu li .back"),function(e){e.addEventListener("click",hideMenu)});forEach($(".Menu > li.-hasSubmenu li.-hasSubmenu"),function(e){e.addEventListener("click",showMenu)})})})();Reservation={availableDates:[],availableDatesFrom:[],availableDatesTo:[],currentMonth:-1,currentYear:-1,currentMonthFrom:-1,currentYearFrom:-1,currentMonthTo:-1,currentYearTo:-1,_parameter:"",noReservationsMessage:"",productId:"",ajaxUrl:"",ajaxUrl2:"",startDate:"",startDateMonth:"",startDateYear:"",init:function(startDate,startDateYear,startDateMonth,noReservationsMessage,ajaxUrl,productId,ajaxUrl2){var dropdown;this.noReservationsMessage=noReservationsMessage;this.ajaxUrl=ajaxUrl;this.ajaxUrl2=ajaxUrl2;this.productId=productId;this.startDate=startDate;this.startDateMonth=startDateMonth;this.startDateYear=startDateYear;document.getElementById("reservationDatepicker")!=null&&this.fillAvailableDates(startDateYear,startDateMonth,Reservation._parameter,!1);document.getElementById("reservationDatepickerFrom")!=null&&this.fillAvailableDatesFrom(startDateYear,startDateMonth);document.getElementById("reservationDatepickerTo")!=null&&this.fillAvailableDatesTo(startDateYear,startDateMonth);var defdate=new Date(this.startDate),reservationDatepicker=new Pikaday({field:document.getElementById("reservationDatepicker"),onSelect:this.onDatePickerDateChange,disableDayFn:this.daysToMark,format:"MM/DD/YYYY",toString:function(date){const day=("0"+date.getDate()).slice(-2),month=("0"+(date.getMonth()+1)).slice(-2),year=date.getFullYear();return`${month}/${day}/${year}`},parse:function(dateString){const parts=dateString.split("/"),day=parts[0],month=parseInt(parts[1],10),year=parseInt(parts[2],10);return new Date(year,month,day)},onDraw:function(date){var year=date.calendars[0].year.toString(),month=(date.calendars[0].month+1).toString();document.getElementById("hoursDiv")!=null&&(document.getElementById("hoursDiv").innerHTML="");Reservation.fillAvailableDates(year,month,Reservation._parameter,!1);Reservation.onDatePickerDateChange()},firstDay:1,defaultDate:defdate}),reservationDatepickerFrom=new Pikaday({field:document.getElementById("reservationDatepickerFrom"),onSelect:this.onDatePickerSelect,disableDayFn:this.daysToMarkFrom,format:"MM/DD/YYYY",toString:function(date){const day=("0"+date.getDate()).slice(-2),month=("0"+(date.getMonth()+1)).slice(-2),year=date.getFullYear();return`${month}/${day}/${year}`},parse:function(dateString){const parts=dateString.split("/"),day=parseInt(parts[0],10),month=parseInt(parts[1],10),year=parseInt(parts[2],10);return new Date(year,month,day)},onDraw:function(date){var year=date.calendars[0].year.toString(),month=(date.calendars[0].month+1).toString();Reservation.fillAvailableDatesFrom(year,month)},firstDay:1,defaultDate:defdate}),reservationDatepickerTo=new Pikaday({field:document.getElementById("reservationDatepickerTo"),onSelect:this.onDatePickerSelect,disableDayFn:this.daysToMarkTo,format:"MM/DD/YYYY",toString:function(date){const day=("0"+date.getDate()).slice(-2),month=("0"+(date.getMonth()+1)).slice(-2),year=date.getFullYear();return`${month}/${day}/${year}`},parse:function(dateString){const parts=dateString.split("/"),day=parseInt(parts[0],10),month=parseInt(parts[1],10),year=parseInt(parts[2],10);return new Date(year,month,day)},onDraw:function(date){var year=date.calendars[0].year.toString(),month=(date.calendars[0].month+1).toString();Reservation.fillAvailableDatesTo(year,month)},firstDay:1,defaultDate:defdate});this.onDatePickerDateChange();dropdown=document.getElementById("parameterDropdown");dropdown!=null&&document.querySelector("#parameterDropdown").addEventListener("change",function(){Reservation.fillAvailableDates(Reservation.currentYear,Reservation.currentMonth,this.value);reservationDatepicker.clear();document.getElementById("hoursDiv")!=null&&(document.getElementById("hoursDiv").innerHTML=Reservation.noReservationsMessage)})},reload:function(startDate,startDateYear,startDateMonth){this.startDate=startDate;this.startDateMonth=startDateMonth;this.startDateYear=startDateYear;this.fillAvailableDates(startDateYear,startDateMonth,Reservation._parameter,!1);var reservationDatepickerFromRe=new Pikaday({field:document.getElementById("reservationDatepicker"),onSelect:this.onDatePickerDateChange,disableDayFn:this.daysToMark,format:"MM/DD/YYYY",toString:function(date){const day=("0"+date.getDate()).slice(-2),month=date.getMonth()+1,year=date.getFullYear();return`${month}/${day}/${year}`},parse:function(dateString){const parts=dateString.split("/"),day=parseInt(parts[0],10),month=parseInt(parts[1],10)-1,year=parseInt(parts[2],10);return new Date(year,month,day)},onDraw:function(date){var year=date.calendars[0].year.toString(),month=(date.calendars[0].month+1).toString();document.getElementById("hoursDiv")!=null&&(document.getElementById("hoursDiv").innerHTML="");Reservation.fillAvailableDates(year,month,Reservation._parameter,!1)},firstDay:1,defaultDate:this.startDate});this.onDatePickerDateChange()},daysToMark:function(date){for(i=0;i<Reservation.availableDates.length;i++){var splitResults=Reservation.availableDates[i].Date.split("-"),year=splitResults[0],month=splitResults[1],day=splitResults[2].substring(0,2);if(date.getYear()+1900==year&&date.getMonth()+1==month&&date.getDate()==day)return!1}return!0},daysToMarkTo:function(date){for(i=0;i<Reservation.availableDatesTo.length;i++){var splitResults=Reservation.availableDatesTo[i].Date.split("-"),year=splitResults[0],month=splitResults[1],day=splitResults[2].substring(0,2);if(date.getYear()+1900==year&&date.getMonth()+1==month&&date.getDate()==day)return!1}return!0},daysToMarkFrom:function(date){for(i=0;i<Reservation.availableDatesFrom.length;i++){var splitResults=Reservation.availableDatesFrom[i].Date.split("-"),year=splitResults[0],month=splitResults[1],day=splitResults[2].substring(0,2);if(date.getYear()+1900==year&&date.getMonth()+1==month&&date.getDate()==day)return!1}return!0},onDatePickerDateChange:function(){var selected,div,label;if(selected=document.querySelector("#reservationDatepicker")!=null?document.querySelector("#reservationDatepicker").value:null,selected!=null){document.querySelector("#hoursDiv").innerHTML="";var selectedSplitResults=selected.split("/"),selectedDay=selectedSplitResults[1],selectedMonth=selectedSplitResults[0],selectedYear=selectedSplitResults[2];for(i=0;i<Reservation.availableDates.length;i++){var splitResults=Reservation.availableDates[i].Date.split("-"),year=splitResults[0],month=splitResults[1],day=splitResults[2].substring(0,2);selectedYear==year&&selectedMonth==month&&selectedDay==day&&(div=document.createElement("div"),div.classList.add("custom-control"),div.classList.add("custom-radio"),div.classList.add("mx-1"),document.querySelector("#hoursDiv").appendChild(div),div.innerHTML="<input class='custom-control-input' type='radio' id='Reservation_"+Reservation.availableDates[i].Id+"' name='Reservation' value='"+Reservation.availableDates[i].Id+"' /><label class='custom-control-label' for='Reservation_"+Reservation.availableDates[i].Id+"'>"+Reservation.availableDates[i].Date.substring(11,16)+"<\/label>")}Reservation.availableDates.length==0&&(label=document.createElement("label"),label.innerHTML=Reservation.noReservationsMessage,document.querySelector("#hoursDiv").appendChild(label))}},fillAvailableDates:function(year,month,parameter){var postData={productId:Reservation.productId,month:month,year:year,parameter:parameter};addAntiForgeryToken(postData);axios({url:Reservation.ajaxUrl,method:"post",params:postData,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(response=>{Reservation.currentMonth=month,Reservation.currentYear=year,Reservation.availableDates=response.data,Reservation._parameter=parameter}).catch(function(error){alert(error)})},fillAvailableDatesFrom:function(year,month){var postData={productId:Reservation.productId,month:month,year:year,parameter:null};addAntiForgeryToken(postData);axios({url:Reservation.ajaxUrl,method:"post",params:postData,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(response=>(Reservation.currentMonthFrom=month,Reservation.currentYearFrom=year,Reservation.availableDatesFrom=Reservation.availableDatesFrom.concat(response.data),!0)).catch(function(error){alert(error)})},fillAvailableDatesTo:function(year,month){var postData={productId:Reservation.productId,month:month,year:year,parameter:null};addAntiForgeryToken(postData);axios({url:Reservation.ajaxUrl,method:"post",params:postData,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(response=>{Reservation.currentMonthTo=month,Reservation.currentYearTo=year,Reservation.availableDatesTo=Reservation.availableDatesTo.concat(response.data)}).catch(function(error){alert(error)})},onDatePickerSelect:function(){var form=document.querySelector("#product-details-form"),data=new FormData(form);axios({url:Reservation.ajaxUrl2,method:"post",data:data}).then(response=>{response.data.sku&&(document.querySelector("#sku-"+Reservation.productId).innerText=response.data.sku),response.data.mpn&&(document.querySelector("#mpn-"+Reservation.productId).innerText=response.data.mpn),response.data.gtin&&(document.querySelector("#gtin-"+Reservation.productId).innerText=response.data.gtin),response.data.price&&(document.querySelector(".price-value-"+Reservation.productId+" .actual-price").innerText=response.data.price)})}};
var AxiosCart={loadWaiting:!1,sidebarcartselector:".sidebar-cart",quickview_product:function(quickviewurl){axios({url:quickviewurl,method:"post"}).then(function(response){this.AxiosCart.success_process(response)}).catch(function(error){error.axiosFailure}).then(function(){this.AxiosCart.resetLoadWaiting()})},addproducttocart_catalog:function(urladd,showqty,productid){if(showqty.toLowerCase()=="true"){var qty=document.querySelector("#addtocart_"+productid+"_EnteredQuantity").value;urladd+=urladd.indexOf("forceredirection")!=-1?"&quantity="+qty:"?quantity="+qty}this.loadWaiting==!1&&(this.setLoadWaiting(!0),axios({url:urladd,method:"post"}).then(function(response){this.AxiosCart.success_process(response)}).catch(function(error){error.axiosFailure}).then(function(){typeof vmwishlist!="undefined"&&vmwishlist.getModel();typeof vmorder!="undefined"&&vmorder.getModel();this.AxiosCart.resetLoadWaiting()}))},addproducttocart_details:function(urladd){var form,data;this.loadWaiting==!1&&(this.setLoadWaiting(!0),form=document.querySelector("#ModalQuickView")?document.querySelector("#ModalQuickView #product-details-form"):document.querySelector(".product-standard #product-details-form"),data=new FormData(form),axios({url:urladd,data:data,method:"post"}).then(function(response){this.AxiosCart.success_process(response)}).catch(function(error){error.axiosFailure}).then(function(){typeof vmwishlist!="undefined"&&vmwishlist.getModel();typeof vmorder!="undefined"&&vmorder.getModel();this.AxiosCart.resetLoadWaiting()}))},updateitem:function(urlupdate){var model,form=document.querySelector("#ModalQuickView #product-details-form"),data=new FormData(form);model=typeof vmwishlist!="undefined"?vmwishlist:vmorder;axios({url:urlupdate,data:data,method:"post"}).then(function(response){response.data.success?vm.$refs.ModalQuickView.hide():model.displayWarning(response.data.message,"danger")}).catch(function(error){error.axiosFailure}).then(function(){model.getModel();this.AxiosCart.resetLoadWaiting()})},addbid:function(urladd,formselector){if(this.loadWaiting==!1){this.setLoadWaiting(!0);var form=document.querySelector(formselector),data=new FormData(form);axios({url:urladd,data:data,method:"post"}).then(function(response){this.AxiosCart.success_process(response)}).catch(function(error){error.axiosFailure}).then(function(){this.AxiosCart.resetLoadWaiting()})}},addproducttocomparelist:function(id,message,url){if(this.loadWaiting==!1){this.setLoadWaiting(!0);var cookie=this.getCookie("Grand.CompareProduct");return cookie!==""?cookie.includes(id)||(cookie=cookie+"|"+id):cookie=id,this.setCookie("Grand.CompareProduct",cookie),vm.updateCompareProductsQty(),vm.displayBarNotification(message,url,"success",3500),this.resetLoadWaiting(),!1}},setLoadWaiting:function(display){this.loadWaiting=display},success_process:function(response){var newfly,param;if(response.data.updatetopwishlistsectionhtml&&document.querySelector(".wishlist-qty")&&(document.querySelector(".wishlist-qty").innerHTML=response.data.updatetopwishlistsectionhtml),response.data.sidebarshoppingcartmodel&&(newfly=response.data.sidebarshoppingcartmodel,this.flycart=newfly,this.flycartitems=newfly.Items,this.flycartindicator=newfly.TotalProducts,vm.flycart=newfly,vm.flycartitems=newfly.Items,vm.flycartindicator=newfly.TotalProducts),response.data.updatetopcartsectionhtml!=="undefiend"&&(vm.flycartindicator=response.data.updatetopcartsectionhtml),response.data.product&&response.data.success==!0&&(vm.PopupQuickViewVueModal=response.data.model,Object.assign(vm.PopupQuickViewVueModal,{RelatedProducts:[]}),vm.$refs.ModalQuickView.show(),response.data.model.ProductType==20)){var fullDate=new Date(response.data.model.StartDate).toLocaleDateString("en-US"),year=new Date(response.data.model.StartDate).getFullYear(),month=new Date(response.data.model.StartDate).getUTCMonth()+1;Object.assign(vm.PopupQuickViewVueModal,{ReservationFullDate:fullDate});Object.assign(vm.PopupQuickViewVueModal,{ReservationYear:year});Object.assign(vm.PopupQuickViewVueModal,{ReservationMonth:month})}return response.data.message?(response.data.success==!0?(vm.PopupAddToCartVueModal=response.data.model,vm.$refs.ModalQuickView.hide(),vm.$refs.ModalAddToCart.show(),response.data.refreshreservation==!0&&(param="",$("#parameterDropdown").val()!=null&&(param=$("#parameterDropdown").val()),Reservation.fillAvailableDates(Reservation.currentYear,Reservation.currentMonth,param,!0))):vm.displayBarNotification(response.data.message,"","error",3500),!1):response.data.redirect?(location.href=response.data.redirect,!0):!1},resetLoadWaiting:function(){AxiosCart.setLoadWaiting(!1)},axiosFailure:function(){alert("Failed to add the product. Please refresh the page and try one more time.")},setCookie:function(cname,cvalue,exdays){const d=new Date;d.setTime(d.getTime()+exdays*864e5);let expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"},getCookie:function(cname){let name=cname+"=",ca=document.cookie.split(";");for(let i=0;i<ca.length;i++){let c=ca[i];while(c.charAt(0)==" ")c=c.substring(1);if(c.indexOf(name)==0)return c.substring(name.length,c.length)}return""},deleteCookie:function(cname){document.cookie=""+cname+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC;"}};