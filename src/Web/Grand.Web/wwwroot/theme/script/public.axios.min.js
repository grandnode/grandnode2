var AxiosCart={loadWaiting:!1,sidebarcartselector:".sidebar-cart",quickview_product:function(quickviewurl){axios({url:quickviewurl,method:"post"}).then(function(response){this.AxiosCart.success_process(response)}).catch(function(error){error.axiosFailure}).then(function(){this.AxiosCart.resetLoadWaiting()})},addproducttocart_catalog:function(urladd,showqty,productid){if(showqty.toLowerCase()=="true"){var qty=document.querySelector("#addtocart_"+productid+"_EnteredQuantity").value;urladd+=urladd.indexOf("forceredirection")!=-1?"&quantity="+qty:"?quantity="+qty}this.loadWaiting==!1&&(this.setLoadWaiting(!0),axios({url:urladd,method:"post"}).then(function(response){this.AxiosCart.success_process(response)}).catch(function(error){error.axiosFailure}).then(function(){typeof vmwishlist!="undefined"&&vmwishlist.getModel();typeof vmorder!="undefined"&&vmorder.getModel();this.AxiosCart.resetLoadWaiting()}))},addproducttocart_details:function(urladd){var form,data;this.loadWaiting==!1&&(this.setLoadWaiting(!0),form=document.querySelector("#ModalQuickView")?document.querySelector("#ModalQuickView #product-details-form"):document.querySelector(".product-standard #product-details-form"),data=new FormData(form),axios({url:urladd,data:data,method:"post"}).then(function(response){this.AxiosCart.success_process(response)}).catch(function(error){error.axiosFailure}).then(function(){typeof vmwishlist!="undefined"&&vmwishlist.getModel();typeof vmorder!="undefined"&&vmorder.getModel();this.AxiosCart.resetLoadWaiting()}))},updateitem:function(urlupdate){var model,form=document.querySelector("#ModalQuickView #product-details-form"),data=new FormData(form);model=typeof vmwishlist!="undefined"?vmwishlist:vmorder;axios({url:urlupdate,data:data,method:"post"}).then(function(response){response.data.success?vm.$refs.ModalQuickView.hide():model.displayWarning(response.data.message,"danger")}).catch(function(error){error.axiosFailure}).then(function(){model.getModel();this.AxiosCart.resetLoadWaiting()})},addbid:function(urladd,formselector){if(this.loadWaiting==!1){this.setLoadWaiting(!0);var form=document.querySelector(formselector),data=new FormData(form);axios({url:urladd,data:data,method:"post"}).then(function(response){this.AxiosCart.success_process(response)}).catch(function(error){error.axiosFailure}).then(function(){this.AxiosCart.resetLoadWaiting()})}},addproducttocomparelist:function(id,message,url){if(this.loadWaiting==!1){this.setLoadWaiting(!0);var cookie=this.getCookie("Grand.CompareProduct");return cookie!==""?cookie.includes(id)||(cookie=cookie+"|"+id):cookie=id,this.setCookie("Grand.CompareProduct",cookie),vm.updateCompareProductsQty(),vm.displayBarNotification(message,url,"success",3500),this.resetLoadWaiting(),!1}},setLoadWaiting:function(display){this.loadWaiting=display},success_process:function(response){var newfly,param;if(response.data.updatetopwishlistsectionhtml&&document.querySelector(".wishlist-qty")&&(document.querySelector(".wishlist-qty").innerHTML=response.data.updatetopwishlistsectionhtml),response.data.sidebarshoppingcartmodel&&(newfly=response.data.sidebarshoppingcartmodel,this.flycart=newfly,this.flycartitems=newfly.Items,this.flycartindicator=newfly.TotalProducts,vm.flycart=newfly,vm.flycartitems=newfly.Items,vm.flycartindicator=newfly.TotalProducts),response.data.updatetopcartsectionhtml!=="undefiend"&&(vm.flycartindicator=response.data.updatetopcartsectionhtml),response.data.product&&response.data.success==!0&&(vm.PopupQuickViewVueModal=response.data.model,Object.assign(vm.PopupQuickViewVueModal,{RelatedProducts:[]}),vm.$refs.ModalQuickView.show(),response.data.model.ProductType==20)){var fullDate=new Date(response.data.model.StartDate).toLocaleDateString("en-US"),year=new Date(response.data.model.StartDate).getFullYear(),month=new Date(response.data.model.StartDate).getUTCMonth()+1;Object.assign(vm.PopupQuickViewVueModal,{ReservationFullDate:fullDate});Object.assign(vm.PopupQuickViewVueModal,{ReservationYear:year});Object.assign(vm.PopupQuickViewVueModal,{ReservationMonth:month})}return response.data.message?(response.data.success==!0?(vm.PopupAddToCartVueModal=response.data.model,vm.$refs.ModalQuickView.hide(),vm.$refs.ModalAddToCart.show(),response.data.refreshreservation==!0&&(param="",$("#parameterDropdown").val()!=null&&(param=$("#parameterDropdown").val()),Reservation.fillAvailableDates(Reservation.currentYear,Reservation.currentMonth,param,!0))):vm.displayBarNotification(response.data.message,"","error",3500),!1):response.data.redirect?(location.href=response.data.redirect,!0):!1},resetLoadWaiting:function(){AxiosCart.setLoadWaiting(!1)},axiosFailure:function(){alert("Failed to add the product. Please refresh the page and try one more time.")},setCookie:function(cname,cvalue,exdays){const d=new Date;d.setTime(d.getTime()+exdays*864e5);let expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"},getCookie:function(cname){let name=cname+"=",ca=document.cookie.split(";");for(let i=0;i<ca.length;i++){let c=ca[i];while(c.charAt(0)==" ")c=c.substring(1);if(c.indexOf(name)==0)return c.substring(name.length,c.length)}return""},deleteCookie:function(cname){document.cookie=""+cname+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC;"}};